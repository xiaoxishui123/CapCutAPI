# CapCutAPI 完整测试用例说明

## 🎯 测试地址
**主要测试页面：** http://8.148.70.18:9000/comprehensive-test

## 📋 测试用例功能

### 🔧 测试控制面板
- **运行所有测试** - 自动执行所有测试项目
- **获取API信息** - 查看服务器状态和可用端点
- **清除结果** - 清空所有测试结果显示
- **重置测试数据** - 重置所有测试状态和计数器

### 📊 实时统计
- **总测试数** - 已执行的测试用例总数
- **通过数** - 成功的测试用例数量
- **失败数** - 失败的测试用例数量
- **耗时** - 测试执行总时间

## 🧪 测试项目详情

### 1. 📋 API信息测试
- **功能**: 测试服务器基本信息获取
- **端点**: `GET /`
- **验证内容**:
  - 服务器状态
  - 可用API端点列表
  - 版本信息

### 2. 📝 创建草稿测试
- **功能**: 测试草稿创建功能
- **端点**: `POST /create_draft`
- **测试参数**:
  - 草稿名称（可自定义）
  - 视频尺寸（竖屏、横屏、方形）
- **验证内容**:
  - 草稿创建成功
  - 返回有效的草稿ID
  - 草稿URL生成

### 3. ✏️ 添加文本测试
- **功能**: 测试文本添加功能
- **端点**: `POST /add_text`
- **测试参数**:
  - 文本内容（支持多行）
  - 字体选择
  - 字体颜色（颜色选择器）
  - 字体大小（滑块控制）
- **验证内容**:
  - 文本成功添加到草稿
  - 样式参数正确应用

### 4. 🎨 字体列表测试
- **功能**: 测试字体列表获取
- **端点**: `GET /get_font_types`
- **验证内容**:
  - 返回完整字体列表
  - 字体名称格式正确

### 5. 🖼️ 添加图片测试
- **功能**: 测试图片添加功能
- **端点**: `POST /add_image`
- **测试参数**:
  - 图片URL（默认使用随机图片）
  - 显示时长
- **验证内容**:
  - 图片成功添加到草稿
  - 时长参数正确应用

### 6. 🎵 添加音频测试
- **功能**: 测试音频添加功能
- **端点**: `POST /add_audio`
- **测试参数**:
  - 音频URL
  - 音量控制（滑块）
- **验证内容**:
  - 音频成功添加到草稿
  - 音量参数正确应用

### 7. 💾 保存草稿测试
- **功能**: 测试草稿保存功能
- **端点**: `POST /save_draft`
- **测试参数**:
  - 保存路径
- **验证内容**:
  - 草稿成功保存到指定路径
  - 返回保存状态

### 8. 🔧 综合功能测试
- **功能**: 一次性测试完整工作流
- **测试流程**:
  1. 创建新草稿
  2. 添加文本内容
  3. 添加图片素材
  4. 保存最终草稿
- **验证内容**:
  - 整个工作流程无中断
  - 所有步骤执行成功

## 🎮 使用方法

### 方法1: 手动单项测试
1. 打开 http://8.148.70.18:9000/comprehensive-test
2. 点击任意测试项目的"测试"按钮
3. 查看测试结果和状态指示器

### 方法2: 自动化全量测试
1. 点击"运行所有测试"按钮
2. 系统会自动依次执行所有测试
3. 实时查看测试进度和统计结果

### 方法3: 自定义参数测试
1. 修改各测试项目的参数（文本内容、字体、颜色等）
2. 点击对应的测试按钮
3. 验证自定义参数是否正确应用

## 🔍 结果解读

### 状态指示器
- **🟢 绿色**: 测试通过
- **🔴 红色**: 测试失败
- **🟡 黄色**: 测试待执行

### 结果显示
- **绿色背景**: 成功的API响应
- **红色背景**: 失败的API响应或错误
- **蓝色背景**: 信息性内容

### 测试统计
- 实时更新测试执行情况
- 显示通过率和执行时间
- 帮助快速了解API整体状态

## 📝 常见问题

### Q: 文本添加测试失败？
A: 请确保先执行"创建草稿"测试以获取有效的草稿ID

### Q: 图片/音频添加失败？
A: 检查提供的URL是否可访问，建议使用稳定的资源链接

### Q: 保存草稿失败？
A: 检查保存路径是否有写入权限，建议使用 `/tmp/` 目录

### Q: 字体不支持？
A: 查看"字体列表测试"获取所有支持的字体名称

## 🚀 扩展测试

### 添加新测试项目
1. 在HTML中添加新的测试区域
2. 编写对应的JavaScript测试函数
3. 更新测试统计和状态管理

### 自定义测试参数
1. 修改HTML表单控件
2. 更新JavaScript中的参数获取逻辑
3. 测试新参数组合

## 📞 技术支持

如果测试过程中遇到问题：
1. 查看浏览器控制台日志
2. 检查服务器日志: `tail -f /home/CapCutAPI/capcut_server.log`
3. 确认API服务器状态: `ps aux | grep capcut_server`

---

**创建时间**: 2025-07-15  
**测试页面**: http://8.148.70.18:9000/comprehensive-test  
**API地址**: http://8.148.70.18:9000 